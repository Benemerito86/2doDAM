<Window x:Class="WpfAppNoSteam.CarritoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Mi Carrito - NoSteam"
        WindowStartupLocation="CenterScreen"
        Width="600" Height="500"
        Background="#0E1621">

    <Grid>
        <Grid.Background>
            <ImageBrush ImageSource="/fondo.png" Stretch="UniformToFill"/>
        </Grid.Background>

        <Rectangle Fill="#AA000000"/>

        <Border Background="#1E1E1E" Margin="20">
            <StackPanel>
                
                <TextBlock Text="Mi Carrito" 
                           FontSize="24" 
                           FontWeight="Bold" 
                           Foreground="#00FFAA" 
                           HorizontalAlignment="Center" 
                           Margin="0,10,0,20"/>

                <ScrollViewer VerticalScrollBarVisibility="Auto" Height="300">
                    <ItemsControl x:Name="ListaCarrito" Margin="20">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="White" CornerRadius="10" Padding="15" Margin="0,0,0,15">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Image Grid.Column="0"
                                               Source="/fondo.png"
                                               Stretch="UniformToFill"
                                               Margin="0,0,10,0"/>

                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="{Binding Nombre}" 
                                                       FontSize="16" 
                                                       FontWeight="Bold" 
                                                       Foreground="Black"/>
                                            <TextBlock Text="{Binding Precio, StringFormat='{}{0:F2}€'}" 
                                                       FontSize="14" 
                                                       Foreground="Green"/>
                                        </StackPanel>

                                        <Button Grid.Column="2"
                                                Content="Comprar"
                                                Background="#00FFAA"
                                                Foreground="Black"
                                                FontWeight="Bold"
                                                Padding="10,5"
                                                Margin="10,0,0,0"
                                                Click="Comprar_Click"
                                                Tag="{Binding}"/>
                                        <Button Grid.Column="3"
                                                Content="Vaciar"
                                                Background="#f19895"
                                                Foreground="Black"
                                                FontWeight="Bold"
                                                Padding="10,5"
                                                Margin="10,0,0,0"
                                                Click="Vaciar_Click"
                                                Tag="{Binding}"/>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>

                <TextBlock x:Name="txtVacio"
                           Text="Tu carrito está vacío."
                           FontSize="16"
                           Foreground="White"
                           HorizontalAlignment="Center"
                           Visibility="Collapsed"
                           Margin="0,20"/>
                <Button
                    Content="Comprar"
                    Background="#00FFAA"
                    Foreground="Black"
                    FontWeight="Bold"
                    Padding="10,5"
                    Margin="10, 5, 10, 5"
                    Click="ComprarTodo_Click"
                    Tag="{Binding}"/>
                <Button
                    Content="Vaciar"
                    Background="#f19895"
                    Foreground="Black"
                    FontWeight="Bold"
                    Padding="10,5"
                    Margin="10, 5, 10, 5"
                    Click="VaciarTodo_Click"
                    Tag="{Binding}"/>
                    

                
            </StackPanel>
        </Border>
    </Grid>
</Window>